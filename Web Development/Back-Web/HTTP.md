### ※ HTTP

> HTTP (HyperText Transfer Protocol) 이란 텍스트 기반의 통신 규약으로 인터넷에서 데이터를 주고받을 수 있는 프로토콜
>
> 규약을 정해두었기 때문에 모든 프로그램이 이 규약에 맞춰 개발해서 서로 정보를 교환할 수 있게 됨

##### HTTP 동작

- 클라이언트 즉, 사용자가 브라우저를 통해서 어떠한 서비스를 url을 통하거나 다른 것을 통해서 요청함(request)
- 서버에서는 해당 요청사항에 맞는 결과를 찾아서 사용자에게 응답(response)하는 형태로 동작

- 요청 : client -> server
- 응답 : server -> client

- HTML 문서만이 HTTP 통신을 위한 유일한 정보 문서는 아니다.
- Plain text로 부터 JSON 데이터 및 XML과 같은 형태의 정보도 주고 받을 수 있음
- 보통은 클라이언트가 어떤 정보를 HTML 형태로 받고 싶은지, JSON 형태로 받고 싶은지 명시해주는 경우가 많다.

##### HTTP 특징

- HTTP 메시지는 HTTP 서버와 HTTP 클라이언트에 의해 해석이 됨
- TCP/ IP를 이용하는 응용 프로토콜이다.
- HTTP는 연결 상태를 유지하지 않는 비연결성 프로토콜이다.
  - 이러한 단점을 해결하기 위해 Cookie와 Session이 등장
- HTTP는 연결을 유지하지 않는 프로토콜이기 때문에 요청/응답 방식으로 동작

![img](https://media.vlpt.us/post-images/surim014/e0aa5520-2d59-11ea-86da-fb3b00230640/image.png)

- **서버** : 어떠한 자료에 대한 접근을 관리하는 네트워크 상의 시스템 (요청에 대한 응답을 보내준다.)
- **클라이언트** : 그 자료에 접근할 수 있는 프로그램
  Ex) 웹 브라우저, 핸드폰 어플리케이션 등...
  - 클라이언트 프로그램에서 사용자가 회원가입을 시도
  - 서버로 회원정보를 보내게 됨
  - 서버는 회원 정보를 저장 
  - 이 과정에서 클라이언트와 서버 간의 교류가 HTTP라는 규약을 이용하여 발생

##### Request (요청)

> `요청(Request)` 이란 클라이언트가 서버에게 연락하는 것
>
> 요청을 보낼때는 요청에 대한 정보를 담아 서버로 보낸다.

![image-20210826200211587](C:\Users\박상진\AppData\Roaming\Typora\typora-user-images\image-20210826200211587.png)

###### Request Method (요청의 종류)

- **GET** : 자료를 **요청**할 때 사용
- **POST** : 자료의 **생성**을 요청할 때 사용
- **PUT** : 요청 페이로드를 사용해 새로운 리소스를 생성하거나, 대상 리소스를 나타내는 데이터를 대체
- **DELETE** : 자료의 **삭제**를 요청할 때 사용
- **PATCH** : 리소스의 부분적인 **수정**을 할 때에 사용

###### 💡 멱등성(Idempotence)이란?

> `멱등성`이란 여러번 수행해도 결과가 같음을 의미

- HTTP 메소드를 예를 들자면, GET, PUT, DELETE는 같은 경로로 여러 번 호출해도 결과가 같다.

- 그러나 POST는 매 호출마다 새로운 데이터가 추가된다. 

- POST 연산은 결과가 Idempotent하지 않지만, PUT은 반복 수행해도 그 결과가 Idempotent 하다. 

| METHOD | CRUD   | IDEMPOTENT |
| ------ | ------ | ---------- |
| POST   | Create | NO         |
| GET    | Read   | YES        |
| PUT    | Update | YES        |
| DELETE | Delete | YES        |

##### Response (응답)

> `응답(Response)` 이란 서버가 요청에 대한 답변을 클라이언트에게 보내는 것

- 서버가 요청에 대한 답변을 클라이언트에게 보내는 것

###### Status Code (상태 코드)

- **1XX (조건부 응답, Information responses)** : 요청을 받았으며 작업을 계속한다.
- **2XX (성공, Successful responses)** : 클라이언트가 요청한 동작을 수신하여 이해했고 승낙했으며 성공적으로 처리했음을 가리킨다.
- **3XX (리다이렉션 완료, Redirection messages)** : 클라이언트는 요청을 마치기 위해 추가 동작을 취해야 한다.
- **4XX (요청 오류, Client error responses)** : 클라이언트에 오류가 있음을 나타낸다.
- **5XX (서버 오류, Server error reponses)** : 서버가 유효한 요청을 명백하게 수행하지 못했음을 나타낸다.

###### 상태코드 예시 

- **200** : 클라이언트의 요청을 정상적으로 수행
- **201** : 요청이 성공적으로 처리되었으며, 자원이 생성되었음을 나타내는 성공 상태 응답 코드
- **301** : 클라이언트가 요청한 리소스에 대한 URI가 변경 되었을 때 사용하는 응답 코드
- **304** : 클라이언트가 요청한 리소스가 이전 요청떄와 비교하여 전혀 달라진 점이 없다는 것을 의미, Not Modified, 수정되지 않음
- **400** :  클라이언트의 요청이 부적절 할 경우 사용하는 응답 코드
- **401** : 클라이언트가 인증되지 않은 상태에서 보호된 리소스를 요청했을 때 사용하는 응답 코드
- **404** : 서버가 요청받은 리소스를 찾을 수 없다는 것을 의미
- **405** : 클라이언트가 요청한 리소스에서는 사용 불가능한 Method를 이용했을 경우 사용하는 응답 코드
- **500** : 클라이언트가 요청한 리소스에 대한 URI가 변경 되었을 때 사용하는 응답 코드

### ※ 응답코드 

 ###### HTTP 응답 코드 종류

| 응답 코드 | 설명                                                         |
| --------- | ------------------------------------------------------------ |
| 100       | Continue (클라이언트로 부터 일부 요청을 받았으며 나머지 정보를 계속 요청함) |
| 101       | Switching protocols                                          |
| 200       | OK(요청이 성공적으로 수행되었음)                             |
| 201       | Created (PUT 메소드에 의해 원격지 서버에 파일 생성됨)        |
| 202       | Accepted(웹 서버가 명령 수신함)                              |
| 203       | Non-authoritative information (서버가 클라이언트 요구 중 일부만 전송) |
| 204       | No content, (사용자 요구 처리하였으나 전송할 데이터가 없음)  |
| 301       | Moved permanently (요구한 데이터를 변경된 타 URL에 요청함)   |
| 302       | Not temporarily                                              |
| 304       | Not modified (컴퓨터 로컬의 캐시 정보를 이용함, 대개 gif 등은 웹 서버에 요청하지 않음) |
| 400       | Bad request (사용자의 잘못된 요청을 처리할 수 없음)          |
| 401       | Unauthorized (인증이 필요한 페이지를 요청한 경우)            |
| 402       | Payment required(예약됨)                                     |
| 403       | Forbidden (접근 금지, 디렉터리 리스팅 요청 및 관리자 페이지 접근 등을 차단) |
| 404       | Not found, (요청한 페이지 없음)                              |
| 405       | Method not allowed (혀용되지 않는 http method 사용함)        |
| 407       | Proxy authentication required (프락시 인증 요구됨)           |
| 408       | Request timeout (요청 시간 초과)                             |
| 410       | Gone (영구적으로 사용 금지)                                  |

| 412  | Precondition failed (전체 조건 실패)                      |
| ---- | --------------------------------------------------------- |
| 414  | Request-URI too long (요청 URL 길이가 긴 경우임)          |
| 500  | Internal server error (내부 서버 오류)                    |
| 501  | Not implemented (웹 서버가 처리할 수 없음)                |
| 503  | Service unnailable (서비스 제공 불가)                     |
| 504  | Gateway timeout (게이트웨이 시간 초과)                    |
| 505  | HTTP version not supported (해당 http 버전 지원되지 않음) |

